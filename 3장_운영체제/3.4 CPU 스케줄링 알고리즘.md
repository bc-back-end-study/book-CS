# 3.4 CPU 스케줄링 알고리즘

### CPU 스케줄링

매 시점 어떤 프로세스에 CPU를 할당해 작업을 처리할 것인지 결정한다.
가장 효율적으로, 특정 프로세스가 불이익을 당하지 않도록

❓단기 스케줄러 == CPU 스케줄러 : 준비 상태의 프로세스 중 어떤 프로세스를 다음에 실행 상태로 만들 것인지 결정하는 역할

- 빈번하게 호출되기 때문에 수행 속도가 빨라야 한다

❓장기 스케줄러 == 작업 스케줄러 : 어떤 프로세스를 준비 큐에 진입시킬지 결정하는 역할

- 호출이 빈번하지 않기 때문에 상대적으로 속도가 느린 것이 허용
- 메모리에 동시에 올라가 있는 프로세스의 수를 조절
- 시작 상태의 프로세스에게 메모리를 할당할 것인지 승인 여부
- 과거에 자원이 빈약하던 시절에 주로 사용 : 적은 양의 메모리를 효율적으로 할당하기 위해 조절 역할 담당

### CPU 스케줄링 알고리즘

CPU 스케줄러는 CPU 스케줄링 알고리즘에 따라 프로세스에서 해야 하는 일을 스레드 단위로 CPU에 할당한다.

❓목표

- CPU 이용률을 높게 한다
- 주어진 시간에 많은 일을 하게 한다
- 준비 큐(ready queue)에 있는 프로세스는 적게 한다
- 응답 시간은 짧게 한다

## 3.4.1 비선점형 방식

프로세스가 스스로 CPU 소유권을 포기하는 방식이며, 강제로 프로세스를 중지하지 않는다.  
-> 컨텍스트 스위칭으로 인한 부하가 적음

### FCFS(First Come, First served)

가장 먼저 온 것을 가장 먼저 처리하는 알고리즘

처리 시간이 긴 프로세스가 먼저 도착한 경우, 뒤에 도착한 처리 시간이 짧은 프로세스들의 대기시간이 길어진다.

### SJF(Shortest Job First)

실행 시간이 가장 짧은 프로세스를 가장 먼저 실행하는 알고리즘

처리 시간이 긴 프로세스가 실행되지 않는 현상이 발생
평균 대기 시간이 가장 짧지만 실제 실행 시간을 알 수 없기 때문에 과거의 실행했던 시간을 토대로 추측하여 사용한다.

### 우선순위

SJF에서 긴 시간을 가진 프로세스가 실행되지 않는 현상을 보완하기 위해 오래된 작업에게 높은 우선순위를 부여하는 알고리즘

대기 중인 프로세스들에 우선순위를 부여하고 우선순위가 높은 프로세스에 CPU를 우선할당한다.

## 3.4.2 선점형 방식

현대 운영체제가 쓰는 방식으로 지금 사용하고 있는 프로세스를 알고리즘에 의해 중단시켜 버리고 강제로 다른 프로세스에게 CPU 소유권을 할당하는 방식

### 라운드 로빈(RR, Round Robin)

현대 컴퓨터가 쓰는 스케줄링인 우선순위 스케줄링의 일종으로 각 프로세스는 동일한 할당 시간을 주고 그 시간 안에 끝나지 않으면 다시 준비 큐의 뒤로 가는 알고리즘

- 할당 시간이 너무 크면 FCFS가 됨
- 할당 시간이 너무 짧으면 컨텍스트 스위칭이 잦아져서 오버헤드 발생
- 일반적으로 전체 작업시간은 길어지지만 평균 응답 시간은 짧아진다는 특징이 있다
- 로드밸런서에서 트래픽 분산 알고리즘으로 사용

### SRF

기존 작업을 처리하는 도중 더 짧은 작업이 들어오면 수행하던 프로세스를 중지하고 해당 프로세스를 수행하는 알고리즘

- SJF는 중간에 실행 시간이 더 짧은 작업이 들어와도 기존 작업을 모두 수행하고 작업을 이어나감

### 다단계 큐

우선순위에 따른 준비 큐를 여러 개 사용하고, 큐마다 라운드 로빈이나 FCFS 등 다른 스케줄링 알고리즘을 적용

- 큐 간의 프로세스 이동이 안 되므로 스케줄링 부담은 적지만 유연성이 떨어짐
